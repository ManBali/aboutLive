#### 聊天服务-图文互动聊天室-ChatService 

##### 背景：

在互动教育直播间，与学生互动少不了文字+图片的聊天互动；

##### 技术选型

当时在考虑这块时候大致有几个可选方案

1、使用第三方：融云、环信、网易云信

2、自研聊天室：由于时间较紧，同时也有一个海外的学生因地点分散，对于服务器的部点上面密度不好把握，成本也会较高；

另外一个方面我们主要考虑的同个因素有如下

1、支持上万人的群主聊天，因为我们公有一些公开课；环信支持最多的2000人群主聊天；

2、价格要低；网易云信整体来说，价格较高；

3、消息的触达率要高，至少99.9%；

4、可支持动态扩容，支持独立部署；

5、使用后之后感觉到还有更重要的一点就是，并发套餐看着很便宜，但是实际上一但大活动来了要求扩容收费就大大的了，希望之后有接入这块需求的人要谨慎避坑；

6、需支持聊天资料可导出

7、最重要的一点，需要支持敏感词的过滤；

8、有更新一定要求服务提供商及时周知各版本的更新内容；



##### 聊天室承载

1、承载了文字+图片的聊天，我们是在于文本聊天进行消失扩展；

2、承载了一个信令控制功能，实际上与后续要聊到的mqtt实际上功能上有些重复，但两者合并，目前消息的到达率可达99.99%











